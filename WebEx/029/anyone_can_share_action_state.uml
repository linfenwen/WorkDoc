@startuml

[*] -r-> ANYONE_CAN_SHARE_STATUS_NONE

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_SCREEN  
ANYONE_CAN_SHARE_STATUS_SCREEN : entry / CMCUIMgr::OnShareDesktop() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_APPLICATION
ANYONE_CAN_SHARE_STATUS_APPLICATION : entry / CMCUIMgr::OnShareApplication() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_APPLICATION_BYINDEX
ANYONE_CAN_SHARE_STATUS_APPLICATION_BYINDEX : entry / CMCFITUIMgr::OnPreOnCommand() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_APPLICATION_OTHERS 
ANYONE_CAN_SHARE_STATUS_APPLICATION_OTHERS : entry / CMCFITUIMgr::OnPreOnCommand() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_FILES_LOCAL
ANYONE_CAN_SHARE_STATUS_FILES_LOCAL : entry1 /  CMCUIMgr::OnFileOpenDocument() [S_OK == MakeMePresenter]
ANYONE_CAN_SHARE_STATUS_FILES_LOCAL : entry2 / CMCUIMgr::OnSharePresentation() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_FILES_DMS
ANYONE_CAN_SHARE_STATUS_FILES_DMS : entry / CMCFITUIMgr::OnPreOnCommand() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_WEBCONTENT
ANYONE_CAN_SHARE_STATUS_WEBCONTENT : entry CMCUIMgr::OnShareWebContent() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_WEBBROWSER 
ANYONE_CAN_SHARE_STATUS_WEBBROWSER : entry / CMCUIMgr::OnShareWebBrowser() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_MM
ANYONE_CAN_SHARE_STATUS_MM : entry / CMCUIMgr::OnShareMeetingManager() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_WHITEBOARD 
ANYONE_CAN_SHARE_STATUS_WHITEBOARD : entry / CMCUIMgr::OnShareWhiteboard() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_RA 
ANYONE_CAN_SHARE_STATUS_RA : entry / CMCUIMgr::OnShareRemoteComputer() [S_OK == MakeMePresenter]

ANYONE_CAN_SHARE_STATUS_NONE --> ANYONE_CAN_SHARE_STATUS_ADDPAGE 
ANYONE_CAN_SHARE_STATUS_ADDPAGE : entry / CMCUIMgr::OnEditAddPage() [S_OK == MakeMePresenter]


ANYONE_CAN_SHARE_STATUS_SCREEN --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_APPLICATION --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_APPLICATION_BYINDEX --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_APPLICATION_OTHERS --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_FILES_LOCAL --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_FILES_DMS --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_WEBCONTENT --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_WEBBROWSER --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_MM --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_WHITEBOARD --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_RA --> ANYONE_CAN_SHARE_ACTION
ANYONE_CAN_SHARE_STATUS_ADDPAGE --> ANYONE_CAN_SHARE_ACTION


state ANYONE_CAN_SHARE_ACTION {
[*] --> ANYONE_CAN_SHARE_ACTION_NONE 
ANYONE_CAN_SHARE_ACTION_NONE --> ANYONE_CAN_SHARE_ACTION_MAKE_PRESENTER : CMCFeatureMgr::MakeMePresenter() [!= ANYONE_CAN_SHARE_STATUS_NONE]

ANYONE_CAN_SHARE_ACTION_NONE --> ANYONE_CAN_SHARE_ACTION_WAIT : [!= ANYONE_CAN_SHARE_ACTION_MAKE_PRESENTER]

ANYONE_CAN_SHARE_ACTION_WAIT --> ANYONE_CAN_SHARE_ACTION_NONE : CMCUIMgr::OnPresenterChanged() \n[ANYONE_CAN_SHARE_ACTION_WAIT] / CMCServiceMgr::ResetAnyoneShareStatus()


ANYONE_CAN_SHARE_ACTION_MAKE_PRESENTER --> ANYONE_CAN_SHARE_ACTION_READY : CMCUIMgr::OnPresenterChanged() \n[!= ANYONE_CAN_SHARE_ACTION_WAIT]

ANYONE_CAN_SHARE_ACTION_READY --> ANYONE_CAN_SHARE_ACTION_HANDLING : CMCUIMgr::OnIdle()
ANYONE_CAN_SHARE_ACTION_HANDLING : exit/CMCUIMgr::LaunchAnyoneShare()
ANYONE_CAN_SHARE_ACTION_HANDLING --> ANYONE_CAN_SHARE_ACTION_NONE : CMCServiceMgr::ResetAnyoneShareStatus()
}
@enduml