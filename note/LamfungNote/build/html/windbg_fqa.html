<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Windbg &#8212; reST 1 documentation</title>
    
    <link rel="stylesheet" href="_static/mydoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="reST 1 documentation" href="index.html" />
    <link rel="next" title="English learning" href="english_learning.html" />
    <link rel="prev" title="Tiger Windows FQA" href="tigger_windows_fqa_1.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="english_learning.html" title="English learning"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tigger_windows_fqa_1.html" title="Tiger Windows FQA"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">reST 1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="windbg">
<h1>Windbg<a class="headerlink" href="#windbg" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>symchk.exe</li>
<li>symstore.exe</li>
</ol>
<div class="section" id="frequent-used-command">
<h2>Frequent used command<a class="headerlink" href="#frequent-used-command" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">!sym noisy</p>
</li>
<li><dl class="first docutils">
<dt>ld *</dt>
<dd><ul class="first last simple">
<li>load all symbols</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">!wow64exts.sw</p>
</li>
<li><p class="first">!analyze -v</p>
</li>
<li><p class="first">kp or kP</p>
</li>
<li><p class="first">~* kv</p>
</li>
<li><dl class="first docutils">
<dt>lm</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>lm</dt>
<dd><ul class="first last simple">
<li>show all modules and symbols</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>lma address</dt>
<dd><ul class="first last simple">
<li>Specifies an address that contained in this module.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>lmvm modulename</dt>
<dd><ul class="first last simple">
<li>Get more details of the specify module</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>lml</dt>
<dd><ul class="first last simple">
<li>Displays only loaded modules whose symbol information has been loaded.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>.ecxr</em></dt>
<dd><ul class="first last simple">
<li>Displays the context record that is associated with the current exception.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Output logs to file</dt>
<dd><ul class="first last simple">
<li>.logopen /u /t fullpath</li>
<li>.logclose</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>View the exception context(stored in ContextRecord field)</dt>
<dd><ul class="first last simple">
<li>.cxr dwo(arg1+4);kb</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Displays the conetnts of an exception record</dt>
<dd><ul class="first last simple">
<li><em>.exr -1</em></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>View OS version from dump file</dt>
<dd><ul class="first last simple">
<li>vertarget</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="handle">
<h2>Handle<a class="headerlink" href="#handle" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><dl class="first docutils">
<dt>!handle</dt>
<dd><ul class="first last simple">
<li>Displays information about a handler or handles that one or all processes in the target system own</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>!handle 0 f thread</dt>
<dd><ul class="first last simple">
<li>Displays all the threads handle</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>!handle 0 f semaphore</dt>
<dd><ul class="first last simple">
<li>Displays all the semaphores handle</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>!handle 0 f file</dt>
<dd><ul class="first last simple">
<li>Displays all the file&#8217;s handle</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="thread">
<h2>Thread<a class="headerlink" href="#thread" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Switch thread</dt>
<dd><ul class="first last simple">
<li>~&lt;thread number&gt;s (e.g. ~21s to switch to thread 21)</li>
<li>~~[thread id]s (e.g. ~~[1de4]s to switch to thread 1de4)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>~</dt>
<dd><ul class="first last simple">
<li>Display status all threads in the current process</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>.ttime</dt>
<dd><ul class="first last simple">
<li>Show current thread time info</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>!runaway 7</dt>
<dd><ul class="first last simple">
<li>Show all the threads of current process time info with 3 format</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="frame">
<h2>Frame<a class="headerlink" href="#frame" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><dl class="first docutils">
<dt>How to switch frame</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>kn</dt>
<dd><ul class="first last simple">
<li>.frame N (e.g. .frame 3)</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">.frame &#64;$frame-1 or .frame &#64;$frame+1</p>
</li>
<li><p class="first">.f- or .f+</p>
</li>
<li><p class="first"><a class="reference external" href="https://blogs.msdn.microsoft.com/doronh/2006/07/21/debuger-commands-stack-frame-navigation-that-makes-life-easier/">https://blogs.msdn.microsoft.com/doronh/2006/07/21/debuger-commands-stack-frame-navigation-that-makes-life-easier/</a></p>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="webex-pdb-file">
<h2>WebEx PDB file<a class="headerlink" href="#webex-pdb-file" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>Train Symbol files</dt>
<dd><ol class="first last arabic simple">
<li><a class="reference external" href="http://ccatg-build2.cisco.com/cirepo/Train/">http://ccatg-build2.cisco.com/cirepo/Train/</a></li>
<li><a class="reference external" href="http://ccatg-build2.cisco.com/cirepo/artifacts/">http://ccatg-build2.cisco.com/cirepo/artifacts/</a></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>PDB Symbol Server</dt>
<dd><ol class="first last arabic simple">
<li><a class="reference external" href="http://10.194.242.175/er">http://10.194.242.175/er</a></li>
<li><a class="reference external" href="http://10.194.242.175/daily">http://10.194.242.175/daily</a></li>
</ol>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="detail-for-call-stack">
<h2>Detail for call stack<a class="headerlink" href="#detail-for-call-stack" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><dl class="first docutils">
<dt>EBP</dt>
<dd><ul class="first last simple">
<li>The place where EBP refers to is really the Data sections of the memory. You can read and write to it.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>RetAddr</dt>
<dd><ul class="first last simple">
<li>The return address would point to the code sections of the memory. This portion is read-only.</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="load-library-failure">
<h2>Load Library failure<a class="headerlink" href="#load-library-failure" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Config gflags</dt>
<dd><ul class="first last simple">
<li>cd %programdata%/WebEx/T31_UMC</li>
<li>gflags.exe -i atmgr.exe +sls</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Start MC meeting and kill atmgr.exe</p>
</li>
<li><dl class="first docutils">
<dt>Use WinDbg to start meeting</dt>
<dd><ul class="first last simple">
<li>Windbg - Open executable - OK</li>
<li>%programdata%/WebEx/T31_UMC/atmgr.exe /mcstd ..%AppData%LocalLowWebEx</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">0:000 g</p>
</li>
<li><dl class="first docutils">
<dt>Clear gflags trace</dt>
<dd><ul class="first last simple">
<li>gflags -i atmgr.exe -sls</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="issue">
<h2>80000003 issue<a class="headerlink" href="#issue" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Hardcode interrupt request, like: __asm int 3 (ASM), System.Diagnostics.Debugger.Break (C#), DebugBreak() (WinAPI).</li>
<li>OS enable memory runtime check, like Application Verifier can trigger after heap corruption, memory overrun.</li>
<li>Compiler can have some configuration to enble what should be filled for the uninitialized memory block and end of function(blank area, after retun..).
For example, Microsoft VC complier can fill 0xCC if enable /GZ. 0xCC is actually a opcode of __asm int 3</li>
<li><a class="reference external" href="http://stackoverflow.com/questions/3306235/what-is-the-break-instruction-exception-in-windbg">http://stackoverflow.com/questions/3306235/what-is-the-break-instruction-exception-in-windbg</a></li>
</ol>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Symbols loading</dt>
<dd><ul class="first last simple">
<li>!sym noisy</li>
<li><a class="reference external" href="http://www.technlg.net/windows/symbol-server-path-windbg-debugging/">http://www.technlg.net/windows/symbol-server-path-windbg-debugging/</a></li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><a class="reference external" href="http://www.godevtool.com/Other/pdb.htm">http://www.godevtool.com/Other/pdb.htm</a></p>
</li>
<li><p class="first"><a class="reference external" href="http://www.debuginfo.com/tools/chkmatch.html">http://www.debuginfo.com/tools/chkmatch.html</a></p>
</li>
<li><p class="first"><a class="reference external" href="https://log0.wordpress.com/2008/12/05/how-to-debug-a-stack-overflow-for-beginners/">https://log0.wordpress.com/2008/12/05/how-to-debug-a-stack-overflow-for-beginners/</a></p>
</li>
<li><dl class="first docutils">
<dt>Dump Analysis Via WinDbg</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://www.nicologies.tk/posts/DumpAnalysisViaWinDbg">https://www.nicologies.tk/posts/DumpAnalysisViaWinDbg</a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>How to switch to 32bit mode when you use windbg to debug a dump of a 32bit application running on an x64 operating system.</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://blogs.msdn.microsoft.com/msdnforum/2010/03/14/how-do-i-switch-to-32bit-mode-when-i-use-windbg-to-debug-a-dump-of-a-32bit-application-running-on-an-x64-machine/">https://blogs.msdn.microsoft.com/msdnforum/2010/03/14/how-do-i-switch-to-32bit-mode-when-i-use-windbg-to-debug-a-dump-of-a-32bit-application-running-on-an-x64-machine/</a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>kernel32!UnhandledExceptionFilter</dt>
<dd><ul class="first last simple">
<li>www.debuginfo.com/articles/easywindbg2.html</li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Windbg</a><ul>
<li><a class="reference internal" href="#frequent-used-command">Frequent used command</a></li>
<li><a class="reference internal" href="#handle">Handle</a></li>
<li><a class="reference internal" href="#thread">Thread</a></li>
<li><a class="reference internal" href="#frame">Frame</a></li>
<li><a class="reference internal" href="#webex-pdb-file">WebEx PDB file</a></li>
<li><a class="reference internal" href="#detail-for-call-stack">Detail for call stack</a></li>
<li><a class="reference internal" href="#load-library-failure">Load Library failure</a></li>
<li><a class="reference internal" href="#issue">80000003 issue</a></li>
<li><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tigger_windows_fqa_1.html"
                        title="previous chapter">Tiger Windows FQA</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="english_learning.html"
                        title="next chapter">English learning</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/windbg_fqa.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="english_learning.html" title="English learning"
             >next</a> |</li>
        <li class="right" >
          <a href="tigger_windows_fqa_1.html" title="Tiger Windows FQA"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">reST 1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Lamfung Wen.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>